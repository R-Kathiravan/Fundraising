<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundraising || Campaigns</title>
    <link rel="stylesheet" href="browse-campaigns.css">
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=settings_night_sight" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">

</head>

<body>

    <header>
        <div class="menu">
            <div class="logo">
                <a href="index.html"><img src="./assets/stackly-logo1.png"></a>
            </div>
            <nav class="menu-items">
                <a href="index.html">Home</a>
                <a href="about.html">About Us</a>
                <a href="browse-campaigns.html" class="active-menu">Browse Campaigns</a>
                <a href="start-fundraising.html">Start a Fundraiser</a>
                <a href="how-it-works.html">How It Works</a>
                <a href="contact-us.html">Contact Us</a>
                <a href="404page.html" id="login">Login/signup</a>
                <a class="btn-close">Close</a>
            </nav>
            <button class="btn theme-toggle" id="theme-toggle"><span class="material-symbols-outlined">
                    settings_night_sight
                </span></button>
            <div class="hamburger">
                &#9776
            </div>
        </div>
    </header>

    <section class="hero">
        <h1 data-aos="fade-down" data-aos-delay="300">Browse Campaigns</h1>
        <p data-aos="fade-up" data-aos-delay="400">Discover causes that need your support</p>
    </section>
    <section class="campaigns">
        <h1 class="head">Campaigns</h1>
        <div class="controls">
            <input type="text" id="search-input" placeholder="Search campaigns...">
            <div class="sort-and-view">
                <select id="sort-select" class="sort-select">
                    <option value="default">Sort by: Default</option>
                    <option value="newest">Newest</option>
                    <option value="goal-desc">Goal: High to Low</option>
                    <option value="goal-asc">Goal: Low to High</option>
                </select>
            </div>
        </div>
        <div id="campaigns-wrapper" class="campaigns-grid" data-aos="fade-down">
        </div>
        <div id="campaign-details" class="details-panel">
            <span class="close-btn">&times;</span>
            <div class="details-content">
            </div>
        </div>
        <p id="no-results">No campaigns found matching your criteria.</p>

        <div class="pagination">
            <button id="prev-btn">&larr; Previous</button>
            <span id="page-info"></span>
            <button id="next-btn">Next &rarr;</button>
        </div>

        </div>

        <div id="donate-modal" class="modal-overlay">
            <div class="modal-content">
                <span id="modal-close-btn" class="modal-close">&times;</span>
                <h2 id="modal-title">Donate to Campaign</h2>
                <form id="donate-form">
                    <div class="form-group">
                        <label for="amount">Amount (₹)</label>
                        <input type="number" id="amount" placeholder="Please enter amount grater than 50" min="50"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="name">Full Name</label>
                        <input type="text" id="name" placeholder="Your Name" required>
                    </div>
                    <button type="submit" class="confirm-donation-btn" id="donateBtn">Confirm Donation</button>
                </form>
            </div>
        </div>
    </section>
    <section class="urgent-campaings" id="urgent-campaings">
        <h1 class="head">Urgent Campaigns</h1>
        <div class="campaigns-list" id="campaigns-list" data-aos="zoom-in">
        </div>
    </section>
    <section class="cta" data-aos="fade-down-right">
        <h1>Have a cause to share? Start your own campaign today!</h1>
        <a href="start-fundraising.html">Start a Campaign</a>
    </section>
    <footer>
        <div class="footer-container" data-aos="fade-up">
            <div class="footer-column" id="footer-about">
                <a class="footer-logo" href="index.html"><a href="index.html" class="logo"><img
                            src="./assets/stackly-logo1.png"></a>
                </a>
                <p class="footer-tagline">Funding Futures, One Campaign at a Time.</p>
                <div class="follow-us">
                    <a href="404page.html" title="Google"> <img src="https://img.icons8.com/color/48/google-logo.png"
                            alt="google-logo" /></a>
                    <a href="404page.html" title="Facebook"><img
                            src="https://img.icons8.com/cute-clipart/64/facebook.png" alt="facebook" /></a>
                    <a href="404page.html" title="Twitter"><img src="https://img.icons8.com/fluency/50/twitter.png"
                            alt="twitter" /></a>
                </div>
            </div>

            <div class="footer-column">
                <h4>Quick Links</h4>
                <div class="footer-menu">
                    <a href="index.html">Home</a>
                    <a href="about.html">About Us</a>
                    <a href="browse-campaigns.html">Browse Campaigns</a>
                    <a href="start-fundraising.html">Start a Fundraiser</a>
                    <a href="how-it-works.html">How It Works</a>
                    <a href="contact-us.html">Contact Us</a>
                </div>
            </div>

            <div class="footer-column">
                <h4>Contact Us</h4>
                <div class="contact-us">
                    <p><span>Address:</span> Stackly, <i>Salem, India</i></p>
                    <p><span>Phone:</span> <a href="tel:9342575890">9342575890</a></p>
                    <p><span>Mail:</span> <a href="mailto:info@thestackly.com">info@thestackly.com</a></p>
                </div>
            </div>

            <div class="footer-column">
                <h4>Join Our Newsletter</h4>
                <div class="signup-news-letter">
                    <p>Get weekly updates on new campaigns and success stories.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Enter your email">
                        <a href="404page.html">Subscribe</a>
                    </form>
                </div>
            </div>
        </div>

        <div class="footer-bottom-bar">
            <p>&copy; 2025 Stackly. All Rights Reserved. | <a href="404page.html">Privacy Policy</a> | <a
                    href="404page.html">Terms of Service.</a></p>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const state = {
                currentPage: 1,
                itemsPerPage: 4,
                allCampaigns: [],
            };

            const campaignsWrapper = document.getElementById('campaigns-wrapper');
            const searchInput = document.getElementById('search-input');
            const sortSelect = document.getElementById('sort-select');
            const noResultsMsg = document.getElementById('no-results');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const pageInfo = document.getElementById('page-info');
            const UrgentCampaigns = document.getElementById('urgent-campaings');
            const modal = document.getElementById('donate-modal');
            const modalCloseBtn = document.getElementById('modal-close-btn');
            const modalTitle = document.getElementById('modal-title');
            const donateForm = document.getElementById('donate-form');

            campaignsWrapper.addEventListener('click', function (e) {
                if (e.target.classList.contains('donate-btn')) {
                    const campaignItem = e.target.closest('.campaign-item');
                    const title = campaignItem.querySelector('h3').textContent;
                    modalTitle.textContent = `Donate to "${title}"`;
                    modal.style.display = 'flex';
                    document.body.classList.add('modal-open');
                }
            });

            UrgentCampaigns.addEventListener('click', function (e) {
                if (e.target.classList.contains('donate-btn')) {
                    const campaignItem = e.target.closest('.campaign-item');
                    const title = campaignItem.querySelector('h3').textContent;
                    modalTitle.textContent = `Donate to "${title}"`;
                    modal.style.display = 'flex';
                    document.body.classList.add('modal-open');
                }

            });

            function closeModal() {
                modal.style.display = 'none';
                document.body.classList.remove('modal-open');
            }
            modalCloseBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) { closeModal(); }
            });
            donateForm.addEventListener('submit', (e) => {
                e.preventDefault();
                alert('Thank you for your donation!');
                closeModal();
                const value = parseInt(donateInput.value, 10);
                if (isNaN(value) || value < 50) {
                    donateBtn.disabled = true;
                    alert("Please donate greater than Rs:50")

                }
            });
            const donateBtn = document.getElementById('donateBtn');
            const donateInput = document.getElementById('amount');

            donateBtn.addEventListener('click', (e) => {
                e.preventDefault();

                const value = parseInt(donateInput.value, 10);

                if (isNaN(value)) {
                    alert(" Please enter a valid amount.");
                } else if (value <= 0) {
                    alert(" Amount must be greater than 0.");
                } else if (value < 50) {
                    alert(" Minimum donation is ₹50.");
                } else {
                    alert(" Thank you for your generous donation of ₹" + value + "!");
                    donateInput.value = ""; // clear input after successful donation
                }
            });

            donateInput.addEventListener('input', () => {
                const value = parseInt(donateInput.value, 10);

                if (isNaN(value) || value < 50) {
                    donateBtn.style.display = 'none';
                } else {
                    donateBtn.style.display = 'inline-block';
                }
            });
            const campaignData = [
                {
                    id: 'flood', date: "2025-09-22", goal: 100000, raised: 75000, donors: 312, category: 'Health', title: 'Medical Aid for Flood Victims', organizer: 'by Hope Foundation', desc: 'Providing essential medical supplies and support to families affected by the recent floods.', img: './assets/campaigns-water1.avif', desc2: "The recent floods have devastated thousands of families, leaving them without access to proper healthcare and medicines. Hospitals and clinics in the affected areas are overwhelmed, and many people are at risk of waterborne diseases. Our team is working round the clock to deliver essential first aid kits, antibiotics, and emergency care supplies. With your support, we can ensure that no family is left untreated during this critical time. Every contribution directly helps save lives and restore hope.", img2: './assets/campaigns-medical-aid.jpg'
                    , organizer: 'by Hope Foundation', desc: 'Providing essential medical supplies and support to families affected by the recent floods'
                },
                { id: 'school', date: "2025-08-15", goal: 500000, raised: 200000, donors: 450, category: 'Education', title: 'Build a School in Rural India', organizer: 'by Vidya Initiative', desc: 'Help us construct a safe and modern school for 200 underprivileged children.', img: './assets/campaigns-school1.jpg', desc2: "In this remote village, children walk miles every day just to access temporary classrooms under tin roofs. Many of them drop out early because of unsafe conditions and lack of proper infrastructure. By building a well-equipped, modern school, we can provide a safe environment where learning can thrive. The facility will include classrooms, a library, and sanitation facilities, creating a foundation for a brighter future. Your help can transform the lives of 200 underprivileged children and generations to come.", img2: './assets/campaigns-school.jpg' },
                {
                    id: 'tree', date: "2025-09-01", goal: 50000, raised: 45000, donors: 820, category: 'Environment', title: 'Plant 10,000 Trees', organizer: 'by Green Earth Org', desc: 'Join our mission to reforest local areas and combat climate change, one tree at a time.', img: './assets/campaigns-plant1.jpg', desc2: "Deforestation and rising pollution levels have left local communities vulnerable to climate change and poor air quality. By planting 10,000 trees in the next year, we aim to restore biodiversity, improve soil fertility, and create a sustainable ecosystem for future generations. These trees will not only absorb carbon dioxide but also provide shade, food, and shelter for wildlife. This project empowers volunteers and local farmers to actively participate in reforestation. Your contribution will help us combat climate change one tree at a time.", img2: './assets/campaigns-plant.webp'
                },
                {
                    id: 'dogs', date: "2025-07-20", goal: 250000, raised: 137500, donors: 615, category: 'Animals', title: 'Rescue Stray Animals', organizer: 'by Paws & Care', desc: 'Support our shelter in providing food, medical care, and homes for abandoned animals.', img: './assets/campaigns-dog1.webp', desc2: "Every day, countless stray animals are left abandoned on the streets, facing hunger, accidents, and diseases. Our shelter currently cares for over 300 dogs and cats, but resources are running thin. With your support, we can expand our shelter space, provide life-saving medical treatments, and facilitate adoptions. Each rescued animal deserves a chance to live a safe and loving life. By donating, you are not just helping an animal — you are giving them a second chance at happiness.", img2: './assets/campaigns-dog.jpg'
                },
                {
                    id: 'homeless', date: "2025-09-23", goal: 75000, raised: 15000, donors: 95, category: 'Community', title: 'Winter Clothing Drive', organizer: 'by Warm Hearts', desc: 'Help provide warm clothing and blankets to homeless individuals during the cold months.', img: './assets/campaigns-homeless1.webp', desc2: "As the cold season approaches, hundreds of homeless individuals in our community are at risk of severe illness due to lack of warm clothing. Many sleep on the streets with only thin sheets to cover themselves. Our drive aims to distribute jackets, blankets, socks, and gloves to those most in need. Together, we can bring comfort and dignity to people struggling through the harsh winter. A small donation from you can mean warmth and survival for someone tonight.", img2: './assets/campaigns-homeless.webp'
                },
                {
                    id: 'cleanWater', date: "2025-06-10", goal: 300000, raised: 280000, donors: 1200, category: 'Health', title: 'Clean Water Project', organizer: 'by AquaLife', desc: 'Fund the installation of water purification systems in a remote village.', img: './assets/campaigns-water2.jpg', desc2: "In this rural village, families have no choice but to drink contaminated water, leading to widespread illnesses like cholera and typhoid. Women and children walk several kilometers daily just to fetch unsafe water. Our project will install solar-powered purification systems to provide clean, safe drinking water for over 1,000 households. Access to clean water not only improves health but also frees children to attend school instead of fetching water. Your support ensures a healthier, brighter future for the entire community.", img2: './assets/campaigns-water.webp'
                },
                {
                    id: 'senior-citizen', date: "2025-08-05", goal: 150000, raised: 60000, donors: 250, category: 'Education', title: 'Digital Literacy for Seniors', organizer: 'by TechConnect', desc: 'Empower senior citizens with essential digital skills for todays world.', img: './assets/campaigns-digital1.jpg', desc2: "Many senior citizens today feel left behind in the fast-paced digital world. They struggle with tasks like online banking, booking appointments, or even connecting with loved ones through video calls. Our program offers hands-on workshops to teach them essential digital skills, from using smartphones to staying safe online. This initiative bridges the generational gap, empowering seniors to live more independent and connected lives. By supporting this cause, you’re giving dignity and confidence back to our elders.", img2: './assets/campaigns-digital.webp'
                }
            ];

            function createCampaignElement(data) {
                const item = document.createElement('div');
                item.className = 'campaign-item';
                item.dataset.date = data.date;
                item.dataset.goal = data.goal;
                const progress = (data.raised / data.goal) * 100;
                item.innerHTML = `
                    <div class="campaign-image" id="${data.id}">
                        <img src="${data.img}" alt="${data.category}">
                        <span class="category-badge">${data.category}</span>
                    </div>
                    <div class="campaign-content">
                        <h3>${data.title}</h3>
                        <p class="organizer">${data.organizer}</p>
                        <p class="description">${data.desc}</p>
                        <div class="progress-bar"><div style="width: ${progress}%;"></div></div>
                        <div class="stats">
                            <div>
                                <p class="raised">₹${data.raised.toLocaleString('en-IN')}</p>
                                <p class="goal">raised of ₹${data.goal.toLocaleString('en-IN')}</p>
                            </div>
                            <p class="donors">${data.donors} Donors</p>
                        </div>
                        <button class="donate-btn">Donate Now</button>
                    </div>`;
                item.addEventListener("click", (e) => {
                    if (!e.target.classList.contains("donate-btn")) {
                        showCampaignDetails(data);
                    }
                });

                return item;
            }

            function updateDisplay() {
                const searchTerm = searchInput.value.toLowerCase();
                let filteredCampaigns = state.allCampaigns.filter(item => {
                    const title = item.querySelector('h3').textContent.toLowerCase();
                    const desc = item.querySelector('.description').textContent.toLowerCase();
                    return title.includes(searchTerm) || desc.includes(searchTerm);
                });

                const sortValue = sortSelect.value;
                filteredCampaigns.sort((a, b) => {
                    switch (sortValue) {
                        case 'newest': return new Date(b.dataset.date) - new Date(a.dataset.date);
                        case 'goal-desc': return parseInt(b.dataset.goal) - parseInt(a.dataset.goal);
                        case 'goal-asc': return parseInt(a.dataset.goal) - parseInt(b.dataset.goal);
                        default: return 0;
                    }
                });

                const totalPages = Math.ceil(filteredCampaigns.length / state.itemsPerPage);
                const startIndex = (state.currentPage - 1) * state.itemsPerPage;
                const endIndex = startIndex + state.itemsPerPage;
                const paginatedCampaigns = filteredCampaigns.slice(startIndex, endIndex);

                campaignsWrapper.innerHTML = '';
                if (paginatedCampaigns.length > 0) {
                    paginatedCampaigns.forEach(item => campaignsWrapper.appendChild(item));
                    noResultsMsg.style.display = 'none';
                } else {
                    noResultsMsg.style.display = 'block';
                }

                pageInfo.textContent = `Page ${state.currentPage} of ${totalPages > 0 ? totalPages : 1}`;
                prevBtn.disabled = state.currentPage === 1;
                nextBtn.disabled = state.currentPage === totalPages || totalPages === 0;
            }

            searchInput.addEventListener('input', () => {
                state.currentPage = 1;
                updateDisplay();
            });

            sortSelect.addEventListener('change', () => {
                state.currentPage = 1;
                updateDisplay();
            });

            prevBtn.addEventListener('click', () => {
                if (state.currentPage > 1) {
                    state.currentPage--;
                    updateDisplay();
                }
            });

            nextBtn.addEventListener('click', () => {
                state.currentPage++;
                updateDisplay();
            });

            function initialize() {
                state.allCampaigns = campaignData.map(createCampaignElement);
                updateDisplay();
            }

            initialize();
        });

        const wrapper = document.getElementById("campaigns-wrapper");
        const detailsPanel = document.getElementById("campaign-details");
        const detailsContent = detailsPanel.querySelector(".details-content");
        const closeBtn = detailsPanel.querySelector(".close-btn");
        function showCampaignDetails(data) {
            const progress = (data.raised / data.goal) * 100;
            detailsContent.innerHTML = `
     <div class="details-container">

    <img src="${data.img}" alt="${data.category}" class="details-image">

    <div class="details-content">
        <div class="details-header">
            <h2>${data.title}</h2>
            <p class="organizer">by <strong>${data.organizer}</strong></p>
        </div>

        <section class="details-stats">
            <div class="progress-bar">
                <div class="progress" style="width:${progress}%;"></div>
            </div>
            <div class="stats-text">
                <p class="raised"><b>₹${data.raised.toLocaleString('en-IN')}</b> raised of ₹${data.goal.toLocaleString('en-IN')}</p>
                <p class="donors">${data.donors} Donors</p>
            </div>
        </section>

        <section class="details-body">
            <h3>About this Campaign</h3>
            <p>${data.desc}</p>
${data.img2 ? `<img src="${data.img2}" alt="${data.category}" class="details-image">` : ''}
            <p>${data.desc2}</p>
        </section>

       <!-- <div class="details-footer">
            <button class="donate-btn">Donate Now</button>
        </div>-->
    </div>

</div>
    `;
            detailsPanel.classList.add("active");
        }

        closeBtn.addEventListener("click", () => {
            detailsPanel.classList.remove("active");
        });
        const urgentList = {
            "urgentCampaigns": [
                {
                    "divId": 'child',
                    "id": 1,
                    "imageSrc": "./assets/campaigns-img1.jpg",
                    "img2": "./assets/campaigns-child.webp",
                    "imageWidth": 800,
                    "imageHeight": 533,
                    "category": "Medical",
                    "title": "Cancer Patient",
                    "organizer": "Trust Foundation",
                    "description": "A Child was Affected by cancer",
                    "desc2": "The patient requires immediate treatment and support to survive. The family is unable to afford the expensive medical care. Your contributions will help cover chemotherapy, medicines, and daily necessities. Every donation directly improves the quality of life and provides hope for recovery. Together, we can save a life and provide comfort during this difficult time.",
                    "progressPercentage": 50,
                    "amountRaised": 200000,
                    "goalAmount": 100000,
                    "donors": 200
                },
                {
                    "divId": 'flood',
                    "id": 2,
                    "imageSrc": "./assets/campaigns-img2.avif",
                    "img2": "./assets/campaigns-flood.jpg",
                    "imageWidth": 800,
                    "imageHeight": 533,
                    "category": "Flood",
                    "title": "Flood Relief for Assam Villages",
                    "organizer": "Health Foundation",
                    "description": "Families affected by recent floods need immediate food, shelter and medical kits. Support rescue efforts.",
                    "desc2": "Many homes were destroyed and thousands are displaced without basic necessities. Our team is providing emergency shelter, clean water, and medical supplies. Donations will help rebuild lives and ensure children and elders are safe. Your support accelerates rescue and relief efforts in critical areas. Together, we can restore hope and stability to the affected communities.",
                    "progressPercentage": 30,
                    "amountRaised": 150000,
                    "goalAmount": 50000,
                    "donors": 300
                },
                {
                    "divId": 'drink-water',
                    "id": 3,
                    "imageSrc": "./assets/campaigns-img3.webp",
                    "img2": "./assets/campaigns-water.webp",
                    "imageWidth": 800,
                    "imageHeight": 533,
                    "category": "Medical",
                    "title": "Clean Water for 100 Villages",
                    "organizer": "Trust Foundation",
                    "description": "Install handpumps and filtration units to provide safe drinking water to remote villages.",
                    "desc2": "Thousands of villagers struggle daily to access safe drinking water. Contaminated water leads to diseases and health problems. By installing handpumps and filtration systems, we can ensure access to clean water. Donations help build sustainable infrastructure and educate locals about hygiene practices. Your support will prevent illnesses and improve the quality of life for entire communities.",
                    "progressPercentage": 60,
                    "amountRaised": 200000,
                    "goalAmount": 140000,
                    "donors": 500
                },
                {
                    "divId": 'medical',
                    "id": 4,
                    "imageSrc": "./assets/campaigns-img4.jpg",
                    "img2": "./assets/campaigns-medical-camp.webp",
                    "imageWidth": 800,
                    "imageHeight": 533,
                    "category": "Medical",
                    "title": "Medical Camp for Senior Citizens",
                    "organizer": "Trust Foundation",
                    "description": "Organize free check-ups, medicines and health awareness camps for elderly people in rural areas.",
                    "desc2": "Elderly residents often lack access to basic medical care and awareness. Our camp provides free check-ups, essential medicines, and health guidance. Donations help expand the reach, purchase medical supplies, and support on-ground volunteers. Your contributions ensure seniors live healthier, more comfortable lives. Together, we can protect our elders and give them the care they deserve.",
                    "progressPercentage": 25,
                    "amountRaised": 120000,
                    "goalAmount": 300000,
                    "donors": 234
                }
            ]
        };

        function createCampaignHTML(campaign, index) {
            return `
    <div class="campaign-item" data-index="${index}" id="${campaign.divId}">
      <div class="campaign-image">
        <img src="${campaign.imageSrc}" alt="${campaign.category}">
        <span class="category-badge">${campaign.category}</span>
      </div>
      <div class="campaign-content">
        <h3>${campaign.title}</h3>
        <p class="organizer">${campaign.organizer}</p>
        <p class="description">${campaign.description}</p>
        <div class="progress-bar">
          <div style="width: ${campaign.progressPercentage}%;"></div>
        </div>
        <div class="stats">
          <div>
            <p class="raised">₹${campaign.amountRaised.toLocaleString('en-IN')}</p>
            <p class="goal">raised of ₹${campaign.goalAmount.toLocaleString('en-IN')}</p>
          </div>
          <p class="donors">${campaign.donors} Donors</p>
        </div>
        <button class="donate-btn">Donate Now</button>
      </div>
    </div>`;

        }

        document.addEventListener('DOMContentLoaded', function () {
            const campaignsContainer = document.getElementById('campaigns-list');
            const detailsPanel = document.getElementById('campaign-details');
            const detailsContent = detailsPanel.querySelector('.details-content');
            const closeBtn = detailsPanel.querySelector('.close-btn');

            campaignsContainer.addEventListener('click', function (e) {
                const campaignItem = e.target.closest('.campaign-item');
                if (!campaignItem) return;
                if (e.target.classList.contains('donate-btn')) {
                    const campaignIndex = campaignItem.dataset.index;
                    openDonateModal(urgentList.urgentCampaigns[campaignIndex]);
                    return;
                }
                const campaignIndex = campaignItem.dataset.index;
                showCampaignDetails(urgentList.urgentCampaigns[campaignIndex]);
            });

            urgentList.urgentCampaigns.forEach((campaign, index) => {
                campaignsContainer.insertAdjacentHTML('beforeend', createCampaignHTML(campaign, index));
            });
            function showCampaignDetails(campaign) {
                const detailsContent = document.querySelector('#campaign-details .details-content');
                const progress = campaign.progressPercentage;

                detailsContent.innerHTML = `
      <div class="details-container">
        <img src="${campaign.imageSrc}" alt="${campaign.category}" class="details-image">

        <div class="details-content">
            <div class="details-header">
                <h2>${campaign.title}</h2>
                <p class="organizer">by <strong>${campaign.organizer}</strong></p>
            </div>

            <section class="details-stats">
                <div class="progress-bar">
                    <div class="progress" style="width:${progress}%;"></div>
                </div>
                <div class="stats-text">
                    <p class="raised"><b>₹${campaign.amountRaised.toLocaleString('en-IN')}</b> raised of ₹${campaign.goalAmount.toLocaleString('en-IN')}</p>
                    <p class="donors">${campaign.donors} Donors</p>
                </div>
            </section>

            <section class="details-body">
                <h3>About this Campaign</h3>
                <p>${campaign.description}</p>
                ${campaign.img2 ? `<img src="${campaign.img2}" alt="${campaign.category}" class="details-image">` : ''}
                <p>${campaign.desc2 || ''}</p>
            </section>

          <!--  <div class="details-footer">
                <button class="donate-btn">Donate Now</button>
            </div>-->
        </div>
      </div>
    `;

                detailsPanel.classList.add('active');
            }

            closeBtn.addEventListener('click', () => {
                detailsPanel.classList.remove('active');
            });
        });

    </script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="./script.js"></script>
    <script>
        AOS.init({
            duration: 800,
            once: true
        }); const themeToggle = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;
        function applyTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                htmlElement.classList.add('dark-mode');
            } else {
                htmlElement.classList.remove('dark-mode');
            }
        }

        applyTheme();

        themeToggle.addEventListener('click', () => {
            htmlElement.classList.toggle('dark-mode');

            if (htmlElement.classList.contains('dark-mode')) {
                localStorage.setItem('theme', 'dark');
            } else {
                localStorage.setItem('theme', 'light');
            }
        });

    </script>
</body>

</html>